spring:
  datasource:
    # Usamos variables de entorno para no exponer credenciales
    url: ${JDBC_DATABASE_URL:jdbc:mysql://localhost:3306/tu_base_de_datos}
    username: ${JDBC_DATABASE_USERNAME:root}
    password: ${JDBC_DATABASE_PASSWORD:contrasena_segura}

# ===============================
  # Configuración de JPA/Hibernate
  # ===============================
  jpa:
    hibernate:
      ddl-auto: update
    open-in-view: false
    properties:
      hibernate:
        jdbc:
          lob:
            non_contextual_creation: true
        id:
          new_generator_mappings: true
  
  # ===============================
  # Configuración de Multipart (Upload de archivos)
  # ===============================
  servlet:
    multipart:
      enabled: true
      max-file-size: 5MB        # Tamaño máximo por archivo
      max-request-size: 10MB    # Tamaño máximo total del request
      file-size-threshold: 2KB  # Umbral para escribir en disco

# ===============================
# Configuración de Upload de Imágenes
# ===============================
upload:
  path: ${UPLOAD_PATH:C:/uploads}
  url-prefix: /uploads

# ===============================
# Configuración del Servidor
# ===============================
server:
  port: ${PORT:8086}

# ===============================
# Configuración de Errores
# ===============================
error:
  handling:
    http-status-in-json-response: true
    exception-logging: NO_LOGGING
    full-stacktrace-http-statuses: 5xx
    log-levels:
      5xx: ERROR
    codes:
      UsuarioEmailUnique: USUARIO_EMAIL_UNIQUE
      PedidoVentaUnique: PEDIDO_VENTA_UNIQUE

# ===============================
# Configuración de SpringDoc (Swagger)
# ===============================
springdoc:
  pathsToMatch: /api/**

# ===============================
# DevTools
# ===============================
devtools:
  livereload:
    enabled: false

# ===============================
# Configuración API de consulta
# ===============================

miapi:
  token: ${MIAPI_TOKEN:tu_token_aqui}
  url:
    dni: https://miapi.cloud/v1/dni/
    ruc: https://miapi.cloud/v1/ruc/

google:
  maps:
    api-key: ${GOOGLE_MAPS_KEY:tu_api_key_aqui}